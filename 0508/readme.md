# React Event Handler 가이드

## Event Handler란?

**Event Handler**는 사용자의 행동(클릭, 키보드 입력, 마우스 이동 등)에 반응하여 실행되는 함수입니다. React에서는 JSX 요소에 이벤트 핸들러를 추가하여 인터랙티브한 사용자 인터페이스를 구현할 수 있습니다.

### Event Handler의 특징
- **선언적 방식**: JSX에서 직관적으로 이벤트 연결
- **SyntheticEvent**: 브라우저 간 호환성을 위한 React의 이벤트 래퍼
- **자동 바인딩**: 함수형 컴포넌트에서는 this 바인딩 불필요
- **이벤트 위임**: React가 내부적으로 이벤트 위임 방식 사용

### 기본 문법
이벤트 핸들러는 JSX 요소의 속성으로 정의하며, 속성명은 camelCase로 작성합니다. 일반 HTML과 달리 문자열이 아닌 함수를 전달합니다.

## SyntheticEvent

**SyntheticEvent**는 React에서 제공하는 이벤트 객체 래퍼입니다. 브라우저의 네이티브 이벤트를 감싸서 모든 브라우저에서 일관된 API를 제공합니다.

### SyntheticEvent의 장점
- **크로스 브라우저 호환성**: 모든 브라우저에서 동일한 동작
- **일관된 API**: 표준화된 이벤트 인터페이스
- **성능 최적화**: 이벤트 풀링을 통한 성능 개선
- **React 생태계 통합**: React의 다른 기능들과 완벽 호환

### 주요 속성과 메서드
- **target**: 이벤트가 발생한 실제 DOM 요소
- **currentTarget**: 이벤트 핸들러가 연결된 요소
- **preventDefault()**: 기본 동작 방지
- **stopPropagation()**: 이벤트 버블링 중단
- **type**: 이벤트 타입 (click, change 등)

### 네이티브 이벤트 접근
필요한 경우 `nativeEvent` 속성을 통해 원본 브라우저 이벤트에 접근할 수 있습니다.

## 주요 이벤트 타입

### 마우스 이벤트
사용자의 마우스 조작에 관련된 이벤트들입니다.

#### onClick
가장 기본적인 클릭 이벤트로, 버튼이나 링크 등의 상호작용에 사용됩니다. 마우스 클릭뿐만 아니라 키보드의 Enter나 Space 키로도 트리거될 수 있습니다.

#### onDoubleClick
더블클릭 이벤트로, 파일 열기나 편집 모드 진입 등에 사용됩니다.

#### onMouseEnter / onMouseLeave
마우스가 요소 위로 올라가거나 벗어날 때 발생하는 이벤트입니다. 호버 효과나 툴팁 표시에 주로 사용됩니다.

#### onMouseDown / onMouseUp
마우스 버튼을 누르거나 놓을 때 발생하는 이벤트로, 드래그 앤 드롭 기능 구현에 활용됩니다.

### 키보드 이벤트
사용자의 키보드 입력에 관련된 이벤트들입니다.

#### onKeyDown / onKeyUp
키를 누르거나 놓을 때 발생하는 이벤트입니다. 특정 키 조합이나 단축키 기능 구현에 사용됩니다.

#### onKeyPress
키를 눌렀을 때 발생하는 이벤트로, 문자 입력 감지에 사용됩니다. 현재는 deprecated 상태입니다.

### 폼 이벤트
폼 요소와 관련된 이벤트들입니다.

#### onChange
입력 필드의 값이 변경될 때 발생하는 이벤트입니다. controlled component 구현의 핵심이 되는 이벤트입니다.

#### onSubmit
폼이 제출될 때 발생하는 이벤트로, 폼 데이터 검증 및 처리에 사용됩니다.

#### onFocus / onBlur
요소가 포커스를 받거나 잃을 때 발생하는 이벤트입니다. 입력 필드의 유효성 검사나 UI 상태 변경에 활용됩니다.

### 기타 이벤트
#### onScroll
스크롤 이벤트로, 무한 스크롤이나 스크롤 위치 추적에 사용됩니다.

#### onResize
창 크기 변경 이벤트로, 반응형 레이아웃 조정에 활용됩니다.

## Event Handler 작성 방법

### 함수형 컴포넌트에서의 이벤트 핸들러
함수형 컴포넌트에서는 컴포넌트 내부에 함수를 정의하여 이벤트 핸들러로 사용합니다.

### 인라인 함수
간단한 로직의 경우 JSX 내부에 직접 화살표 함수를 작성할 수 있습니다. 하지만 성능상 이유로 복잡한 로직에는 권장되지 않습니다.

### 별도 함수 정의
재사용성과 가독성을 위해 별도의 함수로 정의하는 것이 일반적입니다. useCallback을 사용하여 최적화할 수 있습니다.

### 매개변수 전달
이벤트 핸들러에 추가 매개변수를 전달해야 할 때는 화살표 함수나 bind 메서드를 사용합니다.

## Controlled vs Uncontrolled Components

### Controlled Components
React 상태로 폼 요소의 값을 관리하는 방식입니다. 모든 입력이 React를 통해 제어되어 예측 가능하고 디버깅이 쉽습니다.

**특징:**
- React 상태가 단일 진실 공급원
- 실시간 유효성 검사 가능
- 조건부 렌더링과 쉽게 연동
- 예측 가능한 동작

### Uncontrolled Components
DOM 자체가 폼 데이터를 관리하는 방식입니다. ref를 사용하여 필요할 때 DOM에서 값을 읽어옵니다.

**특징:**
- 적은 코드량
- 기존 HTML 폼과 유사한 동작
- 파일 업로드 등에서 유용
- React 상태 관리 없음

### 언제 어떤 방식을 사용할까?
- **Controlled**: 실시간 검증, 조건부 활성화, 포맷팅이 필요한 경우
- **Uncontrolled**: 간단한 폼, 파일 업로드, 기존 코드 통합 시

## 이벤트 위임과 버블링

### 이벤트 버블링
DOM에서 이벤트가 발생하면 해당 요소부터 시작해서 부모 요소로 전파되는 현상입니다. React에서도 동일하게 동작합니다.

### 이벤트 캡처링
버블링과 반대로 부모에서 자식으로 이벤트가 전파되는 방식입니다. React에서는 이벤트명에 'Capture'를 붙여서 사용합니다.

### 이벤트 위임
React는 내부적으로 이벤트 위임을 사용하여 성능을 최적화합니다. 실제로는 루트 요소에서 모든 이벤트를 처리합니다.

### stopPropagation vs preventDefault
- **stopPropagation()**: 이벤트 전파 중단
- **preventDefault()**: 브라우저 기본 동작 방지

## 성능 최적화

### useCallback 활용
이벤트 핸들러 함수를 useCallback으로 메모이제이션하여 불필요한 리렌더링을 방지할 수 있습니다.

### 인라인 함수 주의사항
JSX 내부의 인라인 함수는 매 렌더링마다 새로 생성되므로, 자식 컴포넌트의 불필요한 리렌더링을 유발할 수 있습니다.

### 이벤트 핸들러 최적화 패턴
- 핸들러 함수를 컴포넌트 외부에 정의
- useCallback으로 의존성 관리
- 복잡한 로직은 별도 함수로 분리

### 디바운싱과 스로틀링
자주 발생하는 이벤트(스크롤, 리사이즈, 키보드 입력)에서는 디바운싱이나 스로틀링을 적용하여 성능을 개선할 수 있습니다.

## 고급 이벤트 처리 패턴

### 조건부 이벤트 처리
특정 조건에서만 이벤트를 처리하도록 하는 패턴입니다. 이벤트 핸들러 내부에서 조건을 확인하거나, 핸들러 자체를 조건부로 연결할 수 있습니다.

### 이벤트 핸들러 합성
여러 이벤트 핸들러를 조합하여 복잡한 로직을 구현하는 패턴입니다. 하나의 이벤트에 여러 작업을 순차적으로 실행할 수 있습니다.

### 커스텀 이벤트
필요에 따라 사용자 정의 이벤트를 생성하고 발생시킬 수 있습니다. 컴포넌트 간 통신이나 복잡한 상태 관리에 활용됩니다.

### 이벤트 핸들러 팩토리
동적으로 이벤트 핸들러를 생성하는 패턴입니다. 리스트 아이템이나 동적 컴포넌트에서 유용합니다.

## 접근성 고려사항

### 키보드 접근성
마우스 이벤트뿐만 아니라 키보드 이벤트도 함께 처리하여 키보드 사용자를 위한 접근성을 보장해야 합니다.

### ARIA 속성과 이벤트
스크린 리더와 같은 보조 기술을 위해 적절한 ARIA 속성과 함께 이벤트를 구현해야 합니다.

### 포커스 관리
모달이나 드롭다운 등에서 적절한 포커스 관리를 통해 사용자 경험을 개선할 수 있습니다.

## 테스팅

### 이벤트 핸들러 테스트
React Testing Library를 사용하여 이벤트 핸들러의 동작을 테스트할 수 있습니다. 실제 사용자 상호작용을 시뮬레이션하여 테스트합니다.

### 모킹 이벤트
복잡한 이벤트나 외부 의존성이 있는 이벤트 핸들러는 모킹을 통해 테스트할 수 있습니다.

### 통합 테스트
개별 이벤트 핸들러뿐만 아니라 전체 사용자 플로우를 테스트하여 실제 사용 시나리오를 검증합니다.

## 에러 처리

### 이벤트 핸들러 에러
이벤트 핸들러 내부에서 발생하는 에러를 적절히 처리하여 애플리케이션 크래시를 방지해야 합니다.

### Error Boundary
이벤트 핸들러 에러는 Error Boundary로 잡을 수 없으므로, 핸들러 내부에서 직접 에러 처리를 해야 합니다.

### 사용자 피드백
에러 발생 시 사용자에게 적절한 피드백을 제공하여 사용자 경험을 개선할 수 있습니다.

## 주요 포인트

> **Event Handler**: 사용자 상호작용에 반응하는 함수로 인터랙티브 UI 구현

> **SyntheticEvent**: React의 크로스 브라우저 호환 이벤트 래퍼 객체

> **Controlled Components**: React 상태로 폼 요소를 제어하는 권장 방식

> **성능 최적화**: useCallback과 적절한 이벤트 처리로 불필요한 리렌더링 방지

> **접근성**: 키보드 사용자와 보조 기술을 고려한 이벤트 처리 구현
